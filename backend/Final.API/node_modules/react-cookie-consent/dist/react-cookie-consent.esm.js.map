{"version":3,"file":"react-cookie-consent.esm.js","sources":["../src/components/ConditionalWrapper.tsx","../src/models/constants/positionOptions.ts","../src/models/constants/sameSiteOptions.ts","../src/models/constants/visibilityOptions.ts","../src/models/constants/defaultCookieName.ts","../src/CookieConsent.props.tsx","../src/CookieConsent.state.ts","../src/utilities.ts","../src/CookieConsent.tsx"],"sourcesContent":["import { FunctionComponent, ReactNode } from \"react\";\n\ntype Props = {\n  condition?: boolean;\n  wrapper: (_: ReactNode) => any;\n  children: ReactNode;\n};\n\n/**\n * A function to wrap elements with a \"wrapper\" on a condition\n * @param {object} wrappingOptions\n *  condition == boolean condition, when to wrap\n *  wrapper == style to wrap. e.g <div>{children}</div>\n *  children == react passes whatever is between tags as children. Don't supply this yourself.\n */\nexport const ConditionalWrapper: FunctionComponent<Props> = ({ condition, wrapper, children }) => {\n  return condition ? wrapper(children) : children;\n};\n","export const POSITION_OPTIONS = {\n  TOP: \"top\",\n  BOTTOM: \"bottom\",\n  NONE: \"none\",\n};\n","export enum SAME_SITE_OPTIONS {\n  STRICT = \"strict\",\n  LAX = \"lax\",\n  NONE = \"none\",\n}\n","export const VISIBILITY_OPTIONS = {\n  HIDDEN: \"hidden\",\n  SHOW: \"show\",\n  BY_COOKIE_VALUE: \"byCookieValue\",\n};\n","export const defaultCookieConsentName = \"CookieConsent\";\n","import React, { FunctionComponent, ReactNode } from \"react\";\nimport {\n  defaultCookieConsentName,\n  POSITION_OPTIONS,\n  SAME_SITE_OPTIONS,\n  VISIBILITY_OPTIONS,\n} from \"./models/constants\";\n\nexport interface CookieConsentProps {\n  children?: ReactNode;\n  style?: React.CSSProperties;\n  buttonStyle?: React.CSSProperties;\n  declineButtonStyle?: React.CSSProperties;\n  contentStyle?: React.CSSProperties;\n  disableStyles?: boolean;\n  hideOnAccept?: boolean;\n  hideOnDecline?: boolean;\n  onAccept?: (acceptedByScrolling: boolean) => void;\n  onDecline?: () => void;\n  buttonText?: string | ReactNode | Function;\n  declineButtonText?: string | ReactNode | Function;\n  cookieName?: string;\n  cookieValue?: string | object;\n  declineCookieValue?: string | object;\n  setDeclineCookie?: boolean;\n  debug?: boolean;\n  expires?: number;\n  containerClasses?: string;\n  contentClasses?: string;\n  buttonClasses?: string;\n  buttonWrapperClasses?: string;\n  declineButtonClasses?: string;\n  buttonId?: string;\n  declineButtonId?: string;\n  overlayClasses?: string;\n  ariaAcceptLabel?: string;\n  ariaDeclineLabel?: string;\n  disableButtonStyles?: boolean;\n  enableDeclineButton?: boolean;\n  flipButtons?: boolean;\n  cookieSecurity?: boolean;\n  overlay?: boolean;\n  acceptOnOverlayClick?: boolean;\n  acceptOnScroll?: boolean;\n  acceptOnScrollPercentage?: number;\n  ButtonComponent?: any;\n  extraCookieOptions?: Object;\n  overlayStyle?: Object;\n  customContentAttributes?: Object;\n  customContainerAttributes?: Object;\n  customButtonProps?: Object;\n  customDeclineButtonProps?: Object;\n  customButtonWrapperAttributes?: Object;\n  onOverlayClick?: () => void;\n  // these should be enums\n  location?: string;\n  visible?: string;\n  sameSite?: \"strict\" | \"Strict\" | \"lax\" | \"Lax\" | \"none\" | \"None\";\n}\n\nconst DefaultButtonComponent: FunctionComponent<{ children: ReactNode; [x: string]: any }> = ({\n  children,\n  ...props\n}) => {\n  return <button {...props}>{children}</button>;\n};\n\nexport const defaultCookieConsentProps = {\n  disableStyles: false,\n  hideOnAccept: true,\n  hideOnDecline: true,\n  location: POSITION_OPTIONS.BOTTOM,\n  visible: VISIBILITY_OPTIONS.BY_COOKIE_VALUE,\n  onAccept: (_acceptedByScrolling: boolean) => {},\n  onDecline: () => {},\n  cookieName: defaultCookieConsentName,\n  cookieValue: \"true\",\n  declineCookieValue: \"false\",\n  setDeclineCookie: true,\n  buttonText: \"I understand\",\n  declineButtonText: \"I decline\",\n  debug: false,\n  expires: 365,\n  containerClasses: \"CookieConsent\",\n  contentClasses: \"\",\n  buttonClasses: \"\",\n  buttonWrapperClasses: \"\",\n  declineButtonClasses: \"\",\n  buttonId: \"rcc-confirm-button\",\n  declineButtonId: \"rcc-decline-button\",\n  extraCookieOptions: {},\n  disableButtonStyles: false,\n  enableDeclineButton: false,\n  flipButtons: false,\n  sameSite: SAME_SITE_OPTIONS.LAX,\n  ButtonComponent: DefaultButtonComponent,\n  overlay: false,\n  overlayClasses: \"\",\n  onOverlayClick: () => {},\n  acceptOnOverlayClick: false,\n  ariaAcceptLabel: \"Accept cookies\",\n  ariaDeclineLabel: \"Decline cookies\",\n  acceptOnScroll: false,\n  acceptOnScrollPercentage: 25,\n  customContentAttributes: {},\n  customContainerAttributes: {},\n  customButtonProps: {},\n  customDeclineButtonProps: {},\n  customButtonWrapperAttributes: {},\n  style: {},\n  buttonStyle: {},\n  declineButtonStyle: {},\n  contentStyle: {},\n  overlayStyle: {},\n};\n","export interface CookieConsentState {\n  visible: boolean;\n  style: React.CSSProperties;\n  buttonStyle: React.CSSProperties;\n  declineButtonStyle: React.CSSProperties;\n  contentStyle: React.CSSProperties;\n  overlayStyle: React.CSSProperties;\n}\n\nexport const defaultState: CookieConsentState = {\n  visible: false,\n  style: {\n    alignItems: \"baseline\",\n    background: \"#353535\",\n    color: \"white\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    left: \"0\",\n    position: \"fixed\",\n    width: \"100%\",\n    zIndex: \"999\",\n  },\n  buttonStyle: {\n    background: \"#ffd42d\",\n    border: \"0\",\n    borderRadius: \"0px\",\n    boxShadow: \"none\",\n    color: \"black\",\n    cursor: \"pointer\",\n    flex: \"0 0 auto\",\n    padding: \"5px 10px\",\n    margin: \"15px\",\n  },\n  declineButtonStyle: {\n    background: \"#c12a2a\",\n    border: \"0\",\n    borderRadius: \"0px\",\n    boxShadow: \"none\",\n    color: \"#e5e5e5\",\n    cursor: \"pointer\",\n    flex: \"0 0 auto\",\n    padding: \"5px 10px\",\n    margin: \"15px\",\n  },\n  contentStyle: {\n    flex: \"1 0 300px\",\n    margin: \"15px\",\n  },\n  overlayStyle: {\n    position: \"fixed\",\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: \"999\",\n    backgroundColor: \"rgba(0,0,0,0.3)\",\n  },\n};\n","import Cookies from \"js-cookie\";\nimport { defaultCookieConsentName } from \"./models/constants\";\n\n/**\n * Returns the value of the consent cookie\n * Retrieves the regular value first and if not found the legacy one according\n * to: https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients\n * @param {*} name optional name of the cookie\n */\nexport const getCookieConsentValue = (name = defaultCookieConsentName) => {\n  const cookieValue = Cookies.get(name);\n\n  // if the cookieValue is undefined check for the legacy cookie\n  if (cookieValue === undefined) {\n    return Cookies.get(getLegacyCookieName(name));\n  }\n  return cookieValue;\n};\n\n/**\n * Reset the consent cookie\n * Remove the cookie on browser in order to allow user to change their consent\n * @param {*} name optional name of the cookie\n */\nexport const resetCookieConsentValue = (name = defaultCookieConsentName) => {\n  Cookies.remove(name);\n};\n\n/**\n * Get the legacy cookie name by the regular cookie name\n * @param {string} name of cookie to get\n */\nexport const getLegacyCookieName = (name: string) => {\n  return `${name}-legacy`;\n};\n","import Cookies from \"js-cookie\";\nimport React, { Component, CSSProperties } from \"react\";\nimport { ConditionalWrapper } from \"./components/ConditionalWrapper\";\nimport { CookieConsentProps, defaultCookieConsentProps } from \"./CookieConsent.props\";\nimport { CookieConsentState, defaultState } from \"./CookieConsent.state\";\nimport { POSITION_OPTIONS, SAME_SITE_OPTIONS, VISIBILITY_OPTIONS } from \"./models/constants\";\nimport { getCookieConsentValue, getLegacyCookieName } from \"./utilities\";\n\nexport class CookieConsent extends Component<CookieConsentProps, CookieConsentState> {\n  public static defaultProps = defaultCookieConsentProps;\n\n  state: CookieConsentState = defaultState;\n\n  componentDidMount() {\n    const { debug } = this.props;\n\n    // if cookie undefined or debug\n    if (this.getCookieValue() === undefined || debug) {\n      this.setState({ visible: true });\n      // if acceptOnScroll is set to true and (cookie is undefined or debug is set to true), add a listener.\n      if (this.props.acceptOnScroll) {\n        window.addEventListener(\"scroll\", this.handleScroll, { passive: true });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    // remove listener if still set\n    this.removeScrollListener();\n  }\n\n  /**\n   * Set a persistent accept cookie\n   */\n  accept(acceptedByScrolling = false) {\n    const { cookieName, cookieValue, hideOnAccept, onAccept } = {\n      ...defaultCookieConsentProps,\n      ...this.props,\n    };\n\n    this.setCookie(cookieName, cookieValue);\n\n    onAccept(acceptedByScrolling ?? false);\n\n    if (hideOnAccept) {\n      this.setState({ visible: false });\n      this.removeScrollListener();\n    }\n  }\n\n  /**\n   * Handle a click on the overlay\n   */\n  overlayClick() {\n    const { acceptOnOverlayClick, onOverlayClick } = {\n      ...defaultCookieConsentProps,\n      ...this.props,\n    };\n    if (acceptOnOverlayClick) {\n      this.accept();\n    }\n    onOverlayClick();\n  }\n\n  /**\n   * Set a persistent decline cookie\n   */\n  decline() {\n    const { cookieName, declineCookieValue, hideOnDecline, onDecline, setDeclineCookie } = {\n      ...defaultCookieConsentProps,\n      ...this.props,\n    };\n\n    if (setDeclineCookie) {\n      this.setCookie(cookieName, declineCookieValue);\n    }\n\n    onDecline();\n\n    if (hideOnDecline) {\n      this.setState({ visible: false });\n    }\n  }\n\n  /**\n   * Function to set the consent cookie based on the provided variables\n   * Sets two cookies to handle incompatible browsers, more details:\n   * https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients\n   */\n  setCookie(cookieName: string, cookieValue: string | object) {\n    const { extraCookieOptions, expires, sameSite } = this.props;\n    let { cookieSecurity } = this.props;\n\n    if (cookieSecurity === undefined) {\n      cookieSecurity = window.location ? window.location.protocol === \"https:\" : true;\n    }\n\n    const cookieOptions = { expires, ...extraCookieOptions, sameSite, secure: cookieSecurity };\n\n    // Fallback for older browsers where can not set SameSite=None,\n    // SEE: https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients\n    if (sameSite === SAME_SITE_OPTIONS.NONE) {\n      Cookies.set(getLegacyCookieName(cookieName), cookieValue, cookieOptions);\n    }\n\n    // set the regular cookie\n    Cookies.set(cookieName, cookieValue, cookieOptions);\n  }\n\n  /**\n   * Returns the value of the consent cookie\n   * Retrieves the regular value first and if not found the legacy one according\n   * to: https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients\n   */\n  getCookieValue() {\n    const { cookieName } = this.props;\n    return getCookieConsentValue(cookieName);\n  }\n\n  /**\n   * checks whether scroll has exceeded set amount and fire accept if so.\n   */\n  handleScroll = () => {\n    const { acceptOnScrollPercentage } = { ...defaultCookieConsentProps, ...this.props };\n\n    // (top / height) - height * 100\n    const rootNode = document.documentElement;\n    const body = document.body;\n    const top = \"scrollTop\";\n    const height = \"scrollHeight\";\n\n    const percentage =\n      ((rootNode[top] || body[top]) /\n        ((rootNode[height] || body[height]) - rootNode.clientHeight)) *\n      100;\n\n    if (percentage > acceptOnScrollPercentage) {\n      this.accept(true);\n    }\n  };\n\n  removeScrollListener = () => {\n    const { acceptOnScroll } = this.props;\n    if (acceptOnScroll) {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  };\n\n  render() {\n    // If the bar shouldn't be visible don't render anything.\n    switch (this.props.visible) {\n      case VISIBILITY_OPTIONS.HIDDEN:\n        return null;\n      case VISIBILITY_OPTIONS.BY_COOKIE_VALUE:\n        if (!this.state.visible) {\n          return null;\n        }\n        break;\n      default:\n        break;\n    }\n\n    const {\n      location,\n      style,\n      buttonStyle,\n      declineButtonStyle,\n      contentStyle,\n      disableStyles,\n      buttonText,\n      declineButtonText,\n      containerClasses,\n      contentClasses,\n      buttonClasses,\n      buttonWrapperClasses,\n      declineButtonClasses,\n      buttonId,\n      declineButtonId,\n      disableButtonStyles,\n      enableDeclineButton,\n      flipButtons,\n      ButtonComponent,\n      overlay,\n      overlayClasses,\n      overlayStyle,\n      ariaAcceptLabel,\n      ariaDeclineLabel,\n      customContainerAttributes,\n      customContentAttributes,\n      customButtonProps,\n      customDeclineButtonProps,\n      customButtonWrapperAttributes,\n    } = this.props;\n\n    let myStyle: CSSProperties = {};\n    let myButtonStyle: CSSProperties = {};\n    let myDeclineButtonStyle: CSSProperties = {};\n    let myContentStyle: CSSProperties = {};\n    let myOverlayStyle: CSSProperties = {};\n\n    if (disableStyles) {\n      // if styles are disabled use the provided styles (or none)\n      myStyle = Object.assign({}, style);\n      myButtonStyle = Object.assign({}, buttonStyle);\n      myDeclineButtonStyle = Object.assign({}, declineButtonStyle);\n      myContentStyle = Object.assign({}, contentStyle);\n      myOverlayStyle = Object.assign({}, overlayStyle);\n    } else {\n      // if styles aren't disabled merge them with the styles that are provided (or use default styles)\n      myStyle = Object.assign({}, { ...this.state.style, ...style });\n      myContentStyle = Object.assign({}, { ...this.state.contentStyle, ...contentStyle });\n      myOverlayStyle = Object.assign({}, { ...this.state.overlayStyle, ...overlayStyle });\n\n      // switch to disable JUST the button styles\n      if (disableButtonStyles) {\n        myButtonStyle = Object.assign({}, buttonStyle);\n        myDeclineButtonStyle = Object.assign({}, declineButtonStyle);\n      } else {\n        myButtonStyle = Object.assign({}, { ...this.state.buttonStyle, ...buttonStyle });\n        myDeclineButtonStyle = Object.assign(\n          {},\n          { ...this.state.declineButtonStyle, ...declineButtonStyle }\n        );\n      }\n    }\n\n    // syntactic sugar to enable user to easily select top / bottom\n    switch (location) {\n      case POSITION_OPTIONS.TOP:\n        myStyle.top = \"0\";\n        break;\n\n      case POSITION_OPTIONS.BOTTOM:\n        myStyle.bottom = \"0\";\n        break;\n    }\n\n    const buttonsToRender = [];\n\n    // add decline button\n    enableDeclineButton &&\n      buttonsToRender.push(\n        <ButtonComponent\n          key=\"declineButton\"\n          style={myDeclineButtonStyle}\n          className={declineButtonClasses}\n          id={declineButtonId}\n          aria-label={ariaDeclineLabel}\n          onClick={() => {\n            this.decline();\n          }}\n          {...customDeclineButtonProps}\n        >\n          {declineButtonText}\n        </ButtonComponent>\n      );\n\n    // add accept button\n    buttonsToRender.push(\n      <ButtonComponent\n        key=\"acceptButton\"\n        style={myButtonStyle}\n        className={buttonClasses}\n        id={buttonId}\n        aria-label={ariaAcceptLabel}\n        onClick={() => {\n          this.accept();\n        }}\n        {...customButtonProps}\n      >\n        {buttonText}\n      </ButtonComponent>\n    );\n\n    if (flipButtons) {\n      buttonsToRender.reverse();\n    }\n\n    return (\n      <ConditionalWrapper\n        condition={overlay}\n        wrapper={(children) => (\n          <div\n            style={myOverlayStyle}\n            className={overlayClasses}\n            onClick={() => {\n              this.overlayClick();\n            }}\n          >\n            {children}\n          </div>\n        )}\n      >\n        <div className={`${containerClasses}`} style={myStyle} {...customContainerAttributes}>\n          <div style={myContentStyle} className={contentClasses} {...customContentAttributes}>\n            {this.props.children}\n          </div>\n          <div className={`${buttonWrapperClasses}`} {...customButtonWrapperAttributes}>\n            {buttonsToRender.map((button) => {\n              return button;\n            })}\n          </div>\n        </div>\n      </ConditionalWrapper>\n    );\n  }\n}\n\nexport default CookieConsent;\n"],"names":["ConditionalWrapper","_ref","condition","wrapper","children","POSITION_OPTIONS","TOP","BOTTOM","NONE","SAME_SITE_OPTIONS","VISIBILITY_OPTIONS","HIDDEN","SHOW","BY_COOKIE_VALUE","defaultCookieConsentName","DefaultButtonComponent","props","_objectWithoutPropertiesLoose","_excluded","React","defaultCookieConsentProps","disableStyles","hideOnAccept","hideOnDecline","location","visible","onAccept","_acceptedByScrolling","onDecline","cookieName","cookieValue","declineCookieValue","setDeclineCookie","buttonText","declineButtonText","debug","expires","containerClasses","contentClasses","buttonClasses","buttonWrapperClasses","declineButtonClasses","buttonId","declineButtonId","extraCookieOptions","disableButtonStyles","enableDeclineButton","flipButtons","sameSite","LAX","ButtonComponent","overlay","overlayClasses","onOverlayClick","acceptOnOverlayClick","ariaAcceptLabel","ariaDeclineLabel","acceptOnScroll","acceptOnScrollPercentage","customContentAttributes","customContainerAttributes","customButtonProps","customDeclineButtonProps","customButtonWrapperAttributes","style","buttonStyle","declineButtonStyle","contentStyle","overlayStyle","defaultState","alignItems","background","color","display","flexWrap","justifyContent","left","position","width","zIndex","border","borderRadius","boxShadow","cursor","flex","padding","margin","top","height","backgroundColor","getCookieConsentValue","name","Cookies","get","undefined","getLegacyCookieName","resetCookieConsentValue","remove","CookieConsent","_Component","_inheritsLoose","_this","_defaultCookieConsent","_extends","rootNode","document","documentElement","body","percentage","clientHeight","accept","window","removeEventListener","handleScroll","_proto","prototype","componentDidMount","getCookieValue","setState","addEventListener","passive","componentWillUnmount","removeScrollListener","acceptedByScrolling","_defaultCookieConsent2","setCookie","overlayClick","_defaultCookieConsent3","decline","_defaultCookieConsent4","_this$props","cookieSecurity","protocol","cookieOptions","secure","set","render","state","_this$props2","myStyle","myButtonStyle","myDeclineButtonStyle","myContentStyle","myOverlayStyle","Object","assign","bottom","buttonsToRender","push","key","className","id","onClick","_this2","reverse","map","button","Component"],"mappings":"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"}